

 The {\bfseries Catalytic Reactions Network Stochastic Simulator (Ca\-R\-Ne\-S\-S)} is a software devoted to the hybrid, both stochastic and deterministic, simulation of theoretical complex catalytic networks models. All the models, characterized by their environmental conditions, basically C\-S\-T\-R and protocell with different flow conditions, take inspiration from the original model proposed by Stuart Kauffman in 1986, and describe systems composed of molecular species interacting by means of two possible reactions only, cleavage and condensation. One molecular species (basicallt a polymer) is divided into two short polymers in the former case in the former case, while two polymers are glued together forming a longer polymer in the latter case. Each reaction to occur must be catalyzed by another species present in the system, and one of the main assumptions is that any chemical has an independent probability to catalyze a randomly chosen reaction. Since the version 4.\-8 (20131026.\-60) spontaneous reactions are considered too. It is worthwhile to notice that there are not indications about the chemical nature of the molecules, species \char`\"{}\-A\char`\"{} may be both a polipeptide, an amminoacid, a particular protein domain or an R\-N\-A strenght.\par
\par
 \hypertarget{a00002_sysreq}{}\section{System Requirement}\label{a00002_sysreq}


 In order to have the simulator run correctly the recommended stuff is required\-:
\begin{DoxyItemize}
\item Mac\-Os\-X 10.\-4 or later, Linux (or in general a system U\-N\-I\-X based) or Windows O\-S (tests have been performed on Win7 and win Vista) as well
\item G\-C\-C (G++) compiler, or similar, installed (if you need to compile the software on your machine)
\end{DoxyItemize}

On U\-N\-I\-X systems compile using {\ttfamily g++} -\/\-Wall -\/ansi -\/lm -\/o \mbox{[}path\-\_\-where\-\_\-you\-\_\-like\-\_\-to\-\_\-save\-\_\-binary\-\_\-file\mbox{]}/carness \mbox{[}path\-\_\-of\-\_\-source\-\_\-files/\mbox{]} $\ast$.cpp \par
\par
\hypertarget{a00002_secUsage}{}\section{Using the simulator}\label{a00002_secUsage}
To run the simulator open a terminal shell and type\-:\par
\par
 {\ttfamily } \$path/carness {\ttfamily } $<$configuration\-\_\-\-File\-\_\-\-Folder$>$ {\ttfamily } $<$output\-\_\-folder$>$ {\ttfamily } $<$reaction\-\_\-structures\-\_\-folder$>$\par
 Examples\-:
\begin{DoxyItemize}
\item Unix Based Systems\-:{\ttfamily $\sim$/\-Documents/project/carness} {\ttfamily $\sim$/\-Documents/}.../conf\-File\-Folder/ {\ttfamily $\sim$/\-Documents/}.../res\-Folder/ {\ttfamily $\sim$/\-Documents/}.../\-Structures\-Folder/
\item Win Systems\-: {\ttfamily C\-:\textbackslash{}Documents\textbackslash{}project\textbackslash{}carness.\-exe} {\ttfamily C\-:\textbackslash{}Documents} ..\textbackslash{}conf\-File\-Folder\textbackslash{} {\ttfamily C\-:\textbackslash{}Documents} ..\textbackslash{}res\-Folder\textbackslash{} {\ttfamily C\-:\textbackslash{}Documents} ..\textbackslash{}Structures\-Folder\textbackslash{}
\end{DoxyItemize}

The first argument indicates the folder containing the configuration file acsm2s.\-conf. The second argument refers to the folder that will contain the simulation results while the third parameter indicates the folder containing the structures of the system contained within the following files\-: \-\_\-acsspecies.\-csv, \-\_\-acsreactions.\-csv, \-\_\-acscatalysis.\-csv, \-\_\-acsinflux.\-csv, \-\_\-acsnrgbooleanfunctions.\-csv. Currently the simulator does not generate the initial structures. You must create the structures on your own (see python carenss acs analysis package for details)S. In order to test the D\-E\-M\-O structures, after the program has been compiled, go into the carness folder and run the following commands\-: \begin{DoxyVerb}      - CSTR: <path_of_the_program>/carness ./_inputDataExamples/CSTR/ ./_inputDataExamples/CSTR/res/ ./_inputDataExamples/CSTR/

      - PROTOCELL WITH BUFFERED FLOW:  <path_of_the_program>/carness ./_inputDataExamples/protocell_buffered_flow/ ./_inputDataExamples/protocell_buffered_flow/res/ ./_inputDataExamples/protocell_buffered_flow/

      - PROTOCELL WITH FINITE TRANSMEMBRANE PASSAGE: <path_of_the_program>/carness ./_inputDataExamples/protocell_finite_membrane_passage/ ./_inputDataExamples/protocell_finite_membrane_passage/res/ ./_inputDataExamples/protocell_finite_membrane_passage/
\end{DoxyVerb}


P\-S\-: For windows platform change the command accordingly.

\par
\par
 \hypertarget{a00002_parameters}{}\section{Input Parameters \-:: acsm2s.\-conf}\label{a00002_parameters}


 All the system parameters are stored in a file called {\bfseries acsm2s.\-conf}. Anyone can create his own configuration file paying attention to put \char`\"{}=\char`\"{} char between the parameter name and the parameter value (N\-O S\-P\-A\-C\-E B\-E\-T\-W\-E\-E\-N T\-H\-E\-M).\par
 Notice that the simulator does not create the initial structures but it simply loads the structures created by an external software and process them. Nevertheless the configuration file is fundamental to supply all the parameters to the simulation (during the simulation new entities may be created). The simulator is provided with a structures initializator developed in P\-Y\-T\-H\-O\-N language by the group (description will be available soon) in which all the parameters we are going to describe are used to create the initial structures. All parameters are reported below divided in three categories\-: \begin{DoxyVerb}           - System
           - Environment
           - Dynamic
\end{DoxyVerb}


Categories are useful only to help users in the parameter recognition within the configuration file. They are not handled from the software, if you like you can rearrange configuration file as you prefer, notice only that comments have to start with character {\itshape \char`\"{}\#\char`\"{}}. Within the source code folder an example of the acsm2s.\-conf file is provided. (./\-\_\-input\-Data\-Examples/configuration\-File/acsm2s.conf)\par
 The following parameters are used both by the initializator and the simulator. Nvertheless it is A\-L\-W\-A\-Y\-S necessary having a complete configuration file even if the structures have been already created.\hypertarget{a00002_paramsystem}{}\subsection{System}\label{a00002_paramsystem}

\begin{DoxyParams}{Parameters}
{\em system\-Architecture} & \mbox{[}0-\/4\mbox{]} Environmental System Architecture \mbox{[}C\-L\-O\-S\-E\-S\-Y\-S\-T\-E\-M (0), C\-S\-T\-R\-S\-Y\-S\-T\-E\-M (1), P\-O\-T\-O\-C\-E\-L\-L\-F\-L\-U\-X\-B\-U\-F\-F\-E\-R\-E\-D (2), P\-R\-O\-T\-O\-C\-E\-L\-L\-F\-L\-U\-X\-F\-I\-N\-I\-T\-E (3), S\-E\-M\-I\-P\-E\-R\-M\-E\-A\-B\-L\-E\-S\-Y\-S\-T\-E\-M (4)\mbox{]} \\
\hline
{\em n\-Gen} & ($>$ 0) Number of generations. This parameter indicate how many times the simulation restarts, concentrations are set to the initial ones and the simulation restart for other n\-Seconds seconds. \\
\hline
{\em n\-S\-I\-M} & ($>$ 0) Number of simulations per generation starting with the same initial conditions (S\-A\-M\-E D\-A\-T\-A S\-T\-R\-U\-C\-T\-U\-R\-E\-S) but different random seed. It is worth stressing that in such a way the system, if allowed to create new reactions, will create different final structures starting from the same initial structures. \\
\hline
{\em n\-Seconds} & ($>$ 0) Number of seconds of the simulation \\
\hline
{\em n\-Reactions} & ($>$ 0) Max number of reactions (the system will be stopped after n\-Seconds or after n\-Reactions) \\
\hline
{\em random\-Seed} & ($>$= 0) Random seed (if 0 the random seed is randomly created and the it is stored in the acsm2s.\-conf file saved in the results folder) \\
\hline
{\em n\-Hours} & ($>$=0) Runtime limit (hours) \\
\hline
{\em n\-Attempts} & ($>$=0) Number of attempts in simulating the same network structure different random seed \\
\hline
{\em debug\-Level} & (int) Debug Level Runtime\-: different run\-Time message amounts (please refer to header.\-h file for the different values, 0 is suggested) \\
\hline
{\em time\-Structures\-Saving\-Interval} & ($>$ 0) All system structures (species, catalysis and reactions) are saved every {\itshape time\-Structures\-Saving\-Interval} seconds (simulation time) \\
\hline
{\em save\-Reaction\-Parameters} & (0 or 1) Save information about each condensation or cleavage reaction \\
\hline
{\em file\-Times\-Save\-Interval} & ($>$= 0) Times data are stored in file times.\-csv every {\itshape file\-Times\-Save\-Interval} seconds (If 0 reactions are stored continually) \\
\hline
{\em file\-Amount\-Save\-Interval} & ($>$= 0) Save species amount every (if 0 amounts are stores ad each step) \\
\hline
{\em random\-Init\-Species\-Concentration} & (0 or 1) Initial species concentration initialization method \\
\hline
\end{DoxyParams}
\hypertarget{a00002_paramenv}{}\subsection{Environment}\label{a00002_paramenv}

\begin{DoxyParams}{Parameters}
{\em new\-Species\-Prob\-Min\-Threshold} & ($>$=0) Minimal new species creation probability to allow system expansion \\
\hline
{\em last\-Firing\-Disk\-Species\-I\-D} & ($>$ 0) The I\-D of the last firing disk species. \\
\hline
{\em E\-C\-Concentration} & ($>$ 0) Incoming concentration of charged molecules per second. \\
\hline
{\em alphabet} & (string) Alphabet used in the simulation (e.\-g. {\itshape A\-B} for binary alphabet, {\itshape A\-G\-C\-T} for D\-N\-A, {\itshape A\-D\-E\-G\-F\-L\-Y\-C\-W\-P\-H\-Q\-I\-M\-T\-N\-K\-S\-R\-V} for proteins) \\
\hline
{\em volume} & ($>$ 0) Volume of the C\-S\-T\-R or of the protocell \\
\hline
{\em volume\-Growth} & (0 or 1) Volume growth (1) or fixed volume (0) \\
\hline
{\em stoch\-Division} & (0 or 1) This parameter defines the division type\-: 1) Stochastic (material are divided randomly into the two cells), 0) deterministic (1) \\
\hline
{\em theta} & ($>$ 0) this parameter defines the necessary volume increase to divide, if 0 no division is considered \\
\hline
\end{DoxyParams}
\hypertarget{a00002_paramdyn}{}\subsection{Dynamic}\label{a00002_paramdyn}

\begin{DoxyParams}{Parameters}
{\em energy} & (0 or 1) 0 no energy in the system, 1 energy constraints are applied \\
\hline
{\em ratio\-Species\-Energizable} & (\%) The probability for a species to be potentially energized by the energy carriers \\
\hline
{\em non\-Catalytic\-Max\-Length} & ($>$= 0) Max length of non catalytic species \\
\hline
{\em reaction\-Probability} & (from 0 to 1) Probability for a species to catalyze a reaction \\
\hline
{\em cleavage\-Probability} & (from 0 to 1) Cleavage probability (Condensation probability is 1 -\/ cleavage probability) \\
\hline
{\em reverse\-Reaction} & (0 or 1) Set to 1 to enable reverse reactions, 0 otherwise \\
\hline
{\em rev\-Rct\-Ratio} & ($>$0) Ratio between forward and backward reactions, it is used in the creation of new reactions only (if reverse\-Reactions = T\-R\-U\-E) \\
\hline
{\em spont\-Rct} & (0 or 1) If 1 spontanoues reactions are considered (k spontaneous is the last column of the reactions file), otherwise no \\
\hline
{\em K\-\_\-ass} & ($>$= 0) Final Condensation kinetic constant (C.\-A + B --$>$ A\-B + C) where A.\-C is the molecular complex composed of C (the catalyst) and A (the first substrate) \\
\hline
{\em K\-\_\-diss} & ($>$= 0) Cleavage kinetic constant (A\-B --$>$ A + B) \\
\hline
{\em K\-\_\-cpx} & ($>$= 0) Complex formation kinetic constant (A + C(catalyst) --$>$ C.\-A) \\
\hline
{\em K\-\_\-cpx\-Diss} & ($>$= 0) Complex Dissociation kinetic constant (C.\-A --$>$ A + C) \\
\hline
{\em K\-\_\-nrg} & ($>$= 0) species phosphorilation kinetic constant \\
\hline
{\em K\-\_\-nrg\-\_\-decay} & ($>$= 0) de-\/energization kinetic constant \\
\hline
{\em molecule\-Decay\-\_\-\-Kinetic\-Constant} & ($>$ 0) Molecule decay (efflux) kinetic Constant (Disregarded if the system is closed) \\
\hline
{\em K\-\_\-spont\-\_\-ass} & ($>$= 0) If spontaneous reactions are turned on this is the default kinetic rate for spontanoues condensations \\
\hline
{\em K\-\_\-spont\-\_\-diss} & ($>$= 0) If spontaneous reactions are turned on this is the default kinetic rate for spontanoues cleavages \\
\hline
{\em influx\-\_\-rate} & ($>$= 0) Concentration per seconds (The species to insert in the system will be randomly chosen according to the \-\_\-acsinflux.\-csv file). If equal to 0 the system is closed (max\-L\-Out=0) or only the species that can cross the membrane come in and go out (max\-L\-Out$>$0). \\
\hline
{\em max\-L\-Out} & Maximum length of the species involved in the efflux process ({\ttfamily influx\-\_\-rate} $>$ 0), equal to 0 indicates that all the species can be involved in the efflux process (no filter). If influx\-\_\-rate = 0 the parameter indicates the species that can cross the semipermeable membrane of the protocell. \\
\hline
{\em diffusion\-\_\-contribute} & (K\-D) (0 or 0.\-5) if set to 0.\-5 the speed of molecules goes with the inverse of the square of the length, L$^\wedge$\{-\/\-K\-D\} \\
\hline
{\em solubility\-\_\-threshold} & ($>$ 0) Solubility Threshold, all the species longer than solubility\-\_\-threshold precipitate\\
\hline
\end{DoxyParams}
\par
\par
 \hypertarget{a00002_Acknowledgments}{}\section{Acknowledgments}\label{a00002_Acknowledgments}



\begin{DoxyItemize}
\item E\-X\-P\-L\-O\-R\-A B\-I\-O\-T\-E\-C\-H Srl \href{http://www.explora-biotech.com}{\tt http\-://www.\-explora-\/biotech.\-com}
\item European Centre for Living Technology \href{http://www.ecltech.org/}{\tt http\-://www.\-ecltech.\-org/}
\item Fondazione Venezia \href{http://www.fondazionevenezia.it}{\tt http\-://www.\-fondazionevenezia.\-it}
\item University of Bologna, Interdepartment of industrial research (C.\-I.\-R.\-I)
\item Alex Graudenzi to take care of the initilizator.
\item Chiara Damiani to contribute to the development of the software.
\item Giovanni Lamberti to contribute to the development of the software.
\item Roberto Serra, Marco Villani, Timoteo Carletti, Davide De Lucrezia, Norman Packard, Ruedi Fuchslin, Andrea Roli and Stuart Kauffman for the essential hints.
\item \href{http://www.bedaux.net/mtrand/}{\tt http\-://www.\-bedaux.\-net/mtrand/} for the pseudo-\/random Marseinne-\/\-Twister library for C++.
\item \href{http://perso.wanadoo.es/antlarr/otherapps.html}{\tt http\-://perso.\-wanadoo.\-es/antlarr/otherapps.\-html} for the poisson distribution generator numbers (acs\-\_\-long\-Int \hyperlink{a00028_a22cddb6ffcf2250e0c90bc913728350f}{random\-\_\-poisson(acs\-\_\-double tmp\-Lambda, M\-T\-Rand\& tmp\-Random\-Generator)}). 
\end{DoxyItemize}